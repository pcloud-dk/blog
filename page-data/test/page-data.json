{"componentChunkName":"component---src-templates-blog-post-js","path":"/test","result":{"data":{"markdownRemark":{"html":"<h1>Hello World!</h1>\n<p>This is a <a href=\"https://google.com\">Real page</a></p>\n<p><img src=\"images%5Cgatsby-astronaut.png\" alt=\"alt text\"></p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre style=\"counter-reset: linenumber 0\" class=\"language-powershell line-numbers\"><code class=\"language-powershell\"><span class=\"token variable\">$FeatureSettingsOverride</span> = <span class=\"token string\">'72'</span>\r\n<span class=\"token variable\">$FeatureSettingsOverrideMask</span> = <span class=\"token string\">'3'</span>\r\n<span class=\"token variable\">$Root</span> = <span class=\"token string\">'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Memory Management'</span>\r\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token variable\">$OriginalValues</span>=<span class=\"token function\">Get-ItemProperty</span> <span class=\"token variable\">$Root</span> <span class=\"token operator\">-</span>Name FeatureSettingsOverride<span class=\"token operator\">*</span> <span class=\"token operator\">-</span>ErrorAction Stop\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">catch</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token variable\">$OriginalValues</span>=<span class=\"token string\">'Missing'</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$OriginalValues</span> <span class=\"token operator\">-eq</span> <span class=\"token string\">'Missing'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\"># Missing so we just add it.</span>\r\n        <span class=\"token function\">New-ItemProperty</span> <span class=\"token operator\">-</span>Path <span class=\"token variable\">$Root</span> <span class=\"token operator\">-</span>Name FeatureSettingsOverride <span class=\"token operator\">-</span>PropertyType dword <span class=\"token operator\">-</span>Value <span class=\"token variable\">$FeatureSettingsOverride</span> <span class=\"token operator\">-</span>Force <span class=\"token operator\">-</span>ErrorAction Stop <span class=\"token punctuation\">|</span> <span class=\"token function\">out-null</span>\r\n        <span class=\"token function\">New-ItemProperty</span> <span class=\"token operator\">-</span>Path <span class=\"token variable\">$Root</span> <span class=\"token operator\">-</span>Name FeatureSettingsOverrideMask <span class=\"token operator\">-</span>PropertyType dword <span class=\"token operator\">-</span>Value <span class=\"token variable\">$FeatureSettingsOverrideMask</span> <span class=\"token operator\">-</span>Force <span class=\"token operator\">-</span>ErrorAction Stop <span class=\"token punctuation\">|</span> <span class=\"token function\">out-null</span>\r\n        <span class=\"token function\">write-host</span> <span class=\"token string\">'Added'</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">Write-host</span> <span class=\"token string\">\"Error: Unable to add the registry settings: '<span class=\"token function\">$<span class=\"token punctuation\">(</span><span class=\"token variable\">$error</span><span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Exception<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">)</span></span>'\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token comment\"># settings are present, we need to test if we need to change it.</span>\r\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$OriginalValues</span><span class=\"token punctuation\">.</span>FeatureSettingsOverride <span class=\"token operator\">-ne</span> <span class=\"token variable\">$FeatureSettingsOverride</span> <span class=\"token operator\">-or</span> <span class=\"token variable\">$OriginalValues</span><span class=\"token punctuation\">.</span>FeatureSettingsOverrideMask <span class=\"token operator\">-ne</span> <span class=\"token variable\">$FeatureSettingsOverrideMask</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token variable\">$OriginalValues</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">Set-ItemProperty</span> <span class=\"token operator\">-</span>Name FeatureSettingsOverride <span class=\"token operator\">-</span>Value <span class=\"token variable\">$FeatureSettingsOverride</span> <span class=\"token operator\">-</span>ErrorAction Stop\r\n            <span class=\"token variable\">$OriginalValues</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">Set-ItemProperty</span> <span class=\"token operator\">-</span>Name FeatureSettingsOverrideMask <span class=\"token operator\">-</span>Value <span class=\"token variable\">$FeatureSettingsOverrideMask</span> <span class=\"token operator\">-</span>ErrorAction Stop\r\n            <span class=\"token function\">write-host</span> <span class=\"token string\">'Changed'</span>\r\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token function\">write-host</span> <span class=\"token string\">'OK'</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token function\">Write-host</span> <span class=\"token string\">\"Error: Unable to change the registry settings: '<span class=\"token function\">$<span class=\"token punctuation\">(</span><span class=\"token variable\">$error</span><span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Exception<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">)</span></span>'\"</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span>\r\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"date":"September 18, 2017","path":"/test","title":"This is just a test for syntax highlighter"}}},"pageContext":{}},"staticQueryHashes":["3649515864","63159454"]}